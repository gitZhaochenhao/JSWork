<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			html,body{
				height: 100%;
			}
			div{
				height: 100%;
				background-color: #CCCCCC;
				text-align: center;
				position: relative;
				 
			}
			div img{
				position: absolute;
				left: 50%;
				top: 50%;
				transform: translate(-50%,-50%);
				animation: move 1s linear infinite;
			}
			p{
				position: absolute;
				left: 50%;
				top: 50%;
				transform: translate(-50%,480%);
			}
			
			@keyframes move{
				from{transform: translate(-50%,-50%) rotateY(0deg)}
				to{transform: translate(-50%,-50%) rotateY(360deg)}
			}
		</style>
	</head>
	<body>
		<div>
			<img src="img/logo.png" />
			<p>已加载<span id="num">1%</span></p>
		</div>
		<script type="text/javascript" src="js/data.js"></script>
		<script type="text/javascript">
			// 获取加载信息
			var num=document.getElementsByTagName('span');
			// 对所有的图片地址进行储存
			var arr=[];
			for(var i in imgData){
				arr=arr.concat(imgData[i])
			}
			// 记录已完成加载的图片数量计数器
			var number=0;
			// 将图片导入页面的内存中
			for (var i = 0; i < arr.length; i++) {
				// 将图片导入页面，但不显示但此时图片已经在网页的内存当中网页会加载，模拟图片加载
				var img=document.createElement('img');
				img.src=arr[i];
				img.onload=function(){
					console.log('d')
					number++;
					num[0].innerText=Math.round(number/arr.length*100)+'%';
				};
			};
			
		</script>
	</body>
</html>
