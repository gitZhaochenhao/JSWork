<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0px;
				padding: 0px;
			}
			.tops{
				width: 100%;
				height: 50px;
				background-color: #008000;
			}
			#imgs{
				width: 900px;
				height: 350px;
				margin: 0 auto;
				background-color: #999999;
				overflow: hidden;
				position: relative;
			}
			#main{
				width: 900px;
				height: 1500px;
				margin: 0 auto;
				background-color: #FFC0CB;
				overflow: hidden;
			}
			.post{
				position: fixed;
				z-index: 990;
				/* left: 0px;
				top: 0px; */
				/* background-color: #0000FF; */
			}
			
			.imgs .list{
				position: absolute;
				left: 0;
				top: 50;
				width: 5400px;
				height: 350px;
			}
			.list li{
				float: left;
			}
			.table{
				margin: 10px auto;
				border: 1px solid antiquewhite;
				border-spacing: 0px;
				/* 一像素边框 */
				border-collapse: collapse ;
			}
			.table th,td{
				width: 100px;
				text-align: center;
				border: 1px solid aliceblue;
				padding: 5px 0px;
			}
			#popr{
				width: 400px;
				height: 400px;
				background-color: #FFFFFF;
				position: absolute;
				z-index: 999;
				left: 50%;
				margin-left: -200px;
				top: 50%;
				margin-top: -200px;
				display: none;
			}
			.inp1{
				margin: 50px auto;
				text-align: center;
			}
			.inp2{
				margin: 250px auto;
				text-align: center;
			}
			#all{
				position: absolute;
				left: 0px;
				top: 0px;
				bottom: 0px;
				right: 0px;
				background-color: rgba(0,0,0,0.4);
				z-index: 998;
				display: none;
			}
				
		</style>
	</head>
	<body>
		<div id="tops" class="tops"></div>
		
		<div id="imgs" class="imgs">
			<ul class="list" id="list">
				<li><img src="img/01i.jpg" height="350" width="900" alt="" /></li>
				<li><img src="img/02i.jpg" height="350" width="900" alt="" /></li>
				<li><img src="img/03i.jpg" height="350" width="900" alt="" /></li>
				<li><img src="img/04i.jpg" height="350" width="900" alt="" /></li>
				<li><img src="img/05.jpg" height="350" width="900" alt="" /></li>
				<li><img src="img/01i.jpg" height="350" width="900" alt="" /></li>
			</ul>
		</div>
		
		<div id="main">
			<button id="btn">添加</button>
			<table id="table" class="table">
				<tr>
					<th>片名</th>
					<th>清理</th>
				</tr>
				<tbody id="tbody">
					<tr>
						<td>大闹宝莱坞</td>
						<td><a href="##">删除</a></td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<div id="popr">
			<div class="inp1">
				<label for="name">名称:</label>
				<input type="text" id="name" autocomplete="off" autofocus="autofocus"/>
			</div>
			<div class="inp2">
				<button id="btnok">完成</button>
			</div>
		</div>
		
		<div id="all"></div>
		
		<script type="text/javascript">
			// 顶部导航
			var tops=document.getElementById('tops');
			// 添加按钮
			var add=document.getElementById('btn');
			// 完成按钮
			var ok =document.getElementById('btnok');
			// 弹框
			var popr=document.getElementById('popr');
			// 透明背景
			var back=document.getElementById('all');
			// 表单
			var inp=document.getElementById('name');
			// 表格主体
			var tbody=document.getElementById('tbody');
			// ul
			var ul=document.getElementById('list');
			
			
			
			// 导航
			(function(){
				document.body.onscroll=function(){
					var sctop=getscroll().top;
					// console.log(sctop);
					if(sctop>1){
						tops.className='tops post'
					}else{
						tops.className='tops';
					};	
				};
		})();
		
		(function(){
			// 影片表格
			add.onclick=function(){
				popr.style.display='block';
				back.style.display='block';
			};
			ok.onclick=function(){
				// 获取影片名称
				var val=inp.value.trim();
				if(val){
					var tr=document.createElement('tr');
					var a=document.createElement('a');
					tbody.appendChild(tr);
					for (var i = 0; i < 2; i++) {
						var td=document.createElement('td');
						if(i==0){
							tr.appendChild(td);
							td.innerText=val;
						}
						else if(i==1){
							tr.appendChild(td);
							td.appendChild(a);
							a.href='#';
							a.innerText='删除';
						}
					}
					popr.style.display='none';
					back.style.display='none';
				}
				else{
					alert("请输入影片名称")
				};
				inp.value='';
			};
			
			// 用事件委托的方式给a添加事件
			tbody.onclick=function(e){
				if(e.target.nodeName=='A'){
				tbody.removeChild(e.target.parentElement.parentElement)};
			};
				
		})();
		
		
		
		
		
		(function(){
			
		})()
			
			// 滚动事件封装 滚动事件兼容性问题
			function getscroll(){
				return {
					left:document.body.scrollLeft || document.documentElement.scrollLeft || window.scrollLeft ,
					top:document.body.scrollTop || document.documentElement.scrollTop || window.scrollTop
				};
			};
			
			
			
			
			
		</script>
	</body>
</html>
